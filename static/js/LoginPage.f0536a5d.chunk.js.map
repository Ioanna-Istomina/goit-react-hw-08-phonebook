{"version":3,"file":"static/js/LoginPage.f0536a5d.chunk.js","mappings":"2OA8HA,EAtHyB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KAC1B,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eACA,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAoB,SAAAC,GACxB,MAAwBA,EAAGC,cAAnBd,EAAR,EAAQA,KAAMe,EAAd,EAAcA,MACd,OAAQf,GACN,IAAK,OACHC,EAAQc,GACR,MAEF,IAAK,QACHZ,EAASY,GACT,MAEF,IAAK,WACHV,EAAYU,KAgBZC,EAAO,CACXhB,KAAAA,EACAE,MAAAA,EACAE,SAAAA,GAGIa,EAAqB,WACzBP,EAAS,aAdLZ,GACFG,EAAQ,IAEVE,EAAS,IACTE,EAAY,KA+Bd,OACE,iCACE,kBACEa,SAAUpB,EAnBG,SAAAqB,GACjBA,EAAEC,iBACFX,EAAaO,GACVK,SACAC,MAAK,kBAAML,OACXM,OAAM,kBAAMC,EAAAA,GAAAA,MAAY,2CAGb,SAAAL,GACdA,EAAEC,iBACFb,EAAcS,GACXK,SACAC,MAAK,kBAAML,OACXM,OAAM,kBAAMC,EAAAA,GAAAA,MAAY,6BAOvBC,UAAU,4DAFZ,UAIG3B,GACC,mBAAO2B,UAAU,aAAjB,kBAEE,kBACEA,UAAU,eACVC,KAAK,OACL1B,KAAK,OACLe,MAAOf,EACP2B,QAAQ,yHACRC,MAAM,yIACNC,UAAQ,EACRC,SAAUlB,OAId,IAEF,mBAAOa,UAAU,aAAjB,mBAEE,kBACEA,UAAU,eACVC,KAAK,OACL1B,KAAK,QACLe,MAAOb,EACP2B,UAAQ,EACRC,SAAUlB,QAGd,mBAAOa,UAAU,aAAjB,sBAEE,kBACEA,UAAU,eACVC,KAAK,WACL1B,KAAK,WACLe,MAAOX,EACPyB,UAAQ,EACRC,SAAUlB,QAGd,mBAAQa,UAAU,kBAAkBC,KAAK,SAAzC,SACG5B,EAAO,eAAiB,cAG7B,SAAC,KAAD,CAASiC,SAAS,kB,mDChHxB,UARkB,WAChB,OACE,0BACE,SAAC,IAAD","sources":["components/RegistrationForm/RegistrationForm.js","pages/LoginPage.js"],"sourcesContent":["import { useState } from 'react';\nimport {\n  useAuthorizeUserMutation,\n  useAddUserMutation,\n} from '../../redux/API.js';\nimport { useNavigate } from 'react-router-dom';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst RegistrationForm = ({ flag }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [authorizeUser] = useAuthorizeUserMutation();\n  const [registerUser] = useAddUserMutation();\n  const navigate = useNavigate();\n\n  const handleChangeInput = ev => {\n    const { name, value } = ev.currentTarget;\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'email':\n        setEmail(value);\n        break;\n\n      case 'password':\n        setPassword(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const reset = () => {\n    if (flag) {\n      setName('');\n    }\n    setEmail('');\n    setPassword('');\n  };\n\n  const user = {\n    name,\n    email,\n    password,\n  };\n\n  const navigateToContacts = () => {\n    navigate('/contacts');\n\n    reset();\n  };\n\n  const onRegister = e => {\n    e.preventDefault();\n    registerUser(user)\n      .unwrap()\n      .then(() => navigateToContacts())\n      .catch(() => toast.error('User with such email already exist.'));\n  };\n\n  const onLogin = e => {\n    e.preventDefault();\n    authorizeUser(user)\n      .unwrap()\n      .then(() => navigateToContacts())\n      .catch(() => toast.error('Sorry, user not found'));\n  };\n\n  return (\n    <>\n      <form\n        onSubmit={flag ? onRegister : onLogin}\n        className=\" d-flex container-fluid center-block flex-column col-md-3\"\n      >\n        {flag ? (\n          <label className=\"form-label\">\n            Name\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n              title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n              required\n              onChange={handleChangeInput}\n            />\n          </label>\n        ) : (\n          ''\n        )}\n        <label className=\"form-label\">\n          Email\n          <input\n            className=\"form-control\"\n            type=\"mail\"\n            name=\"email\"\n            value={email}\n            required\n            onChange={handleChangeInput}\n          />\n        </label>\n        <label className=\"form-label\">\n          Password\n          <input\n            className=\"form-control\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            required\n            onChange={handleChangeInput}\n          />\n        </label>\n        <button className=\"btn btn-primary\" type=\"submit\">\n          {flag ? 'Registration' : 'LogIn'}\n        </button>\n      </form>\n      <Toaster position=\"top-left\" />\n    </>\n  );\n};\n\nexport default RegistrationForm;\n","import RegistrationForm from 'components/RegistrationForm';\nconst LoginPage = () => {\n  return (\n    <div>\n      <RegistrationForm />\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"names":["flag","useState","name","setName","email","setEmail","password","setPassword","useAuthorizeUserMutation","authorizeUser","useAddUserMutation","registerUser","navigate","useNavigate","handleChangeInput","ev","currentTarget","value","user","navigateToContacts","onSubmit","e","preventDefault","unwrap","then","catch","toast","className","type","pattern","title","required","onChange","position"],"sourceRoot":""}